{extend name="./common/view"}

{block name="title"}
查课表
{/block}

{block name="body"}
<style type="text/css">
	.info{
		margin-left:7px; 
	}
	.hrTable{
		border-bottom: 1px solid #eee;
		height: 133px; 
	}
	.hrTable2{
		border-bottom: 1px solid #eee;
		height: 136px; 
	}
	.hrTable3{
		border-bottom: 1px solid #eee;
		height: 137px; 
	}
	.hrTable4{
		border-bottom: 1px solid #eee;
		height: 136px; 
	}
	.hrTable5{
                border-bottom: 1px solid #eee;
                height: 136px;
        }
	.layui-bg-gray{
		margin-bottom: 3px;
	}
	.nl{

	}
</style>
<center style="display: flex;justify-content:center;">
	<div class="layui-btn layui-btn-primary layui-btn-sm nl" onclick="descZC()"><</div>
	<div style="margin-top: 6px;margin-left: 20px;margin-right: 20px;">第<label id="zcS">{$zc}</label>周</div><input type="hidden" id="zc" value="{$zc}">
	<div class="layui-btn layui-btn-primary layui-btn-sm nl" onclick="addZC()">></div>
</center>
<hr class="layui-bg-gray">
 <div style="position: relative;">
 	<div class="hrTable"></div>
 	<div class="hrTable2"></div>
 	<div class="hrTable3"></div>
 	<div class="hrTable4"></div>
    <div class="hrTable5"></div>
    <div id="app"></div>
<?php if($info){ foreach ($info as $value) { ?>
	<div style="background: #eee;border-radius: 3px;position: absolute;
		height: <?php echo ( (int)substr($value['kcsj'],3,4) - (int)substr($value['kcsj'],1,2) ) * 130 ?>px;
		top: <?php echo ((int)substr($value['kcsj'],1,2) - 1)  * 68 ?>px;
		left: calc(100% / 7 * <?php echo ((int)$value['kcsj'][0] - 1); ?> + <?php echo ((int)$value['kcsj'][0]*3); ?>px);
		width: calc(100% / 7);">{$value['kcmc']}{$value['jsmc']}
	</div>
<?php } } ?>
</div>

<script type="text/javascript">
	function addZC() {
		var zc = parseInt($("#zc").val()) + 1;
		location.href = '{$ctx}/adapt/sw/table/'+zc;
	}
	function descZC() {
		var zc = parseInt($("#zc").val()) - 1;
		if (zc<0) {return ;}
		location.href = '{$ctx}/adapt/sw/table/'+zc;
	}
	//window.onload=function(){loadTable();}
</script>

{/block}
<div style="background: #eee;border-radius: 3px;position: absolute;
	height: <?php echo ( (int)substr($value['kcsj'],3,4) - (int)substr($value['kcsj'],1,2) ) * 120 ?>px;
	top: <?php echo ((int)substr($value['kcsj'],1,2) - 1)  * 63 ?>px;
	left: calc(100% / 7 * <?php echo ((int)$value['kcsj'][0] - 1); ?> + <?php echo ((int)$value['kcsj'][0]*3); ?>px);
	width: calc(100% / 7);">
</div>
